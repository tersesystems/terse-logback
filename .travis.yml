# https://medium.com/cirruslabs/mastering-gradle-caching-and-incremental-builds-37eb1af7fcde

container:
  image: gradle:5.2.1-jdk8
gradle_cache:
    folder: ~/.gradle/caches
check_script: gradle check

cleanup_before_cache_script:
  - rm -rf ~/.gradle/caches/$GRADLE_VERSION/
  - find ~/.gradle/caches/ -name "*.lock" -type f -delete
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
