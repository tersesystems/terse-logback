dependencies {
    implementation project(":logback-classic")

    // https://mvnrepository.com/artifact/com.zaxxer/HikariCP
    implementation group: 'com.zaxxer', name: 'HikariCP', version: '3.3.1'
    implementation group: 'org.postgresql', name: 'postgresql', version: '42.2.6'

    // Need to set up a FlywayBaseTest, the gradle plugin won't run a "testFlywayMigrate" task
    // testImplementation "org.flywaydb:flyway-core:6.0.0"
    // technically any JSON string is valid input, so we only require logstash-logback-encoder for testing
    testImplementation "net.logstash.logback:logstash-logback-encoder:$logstashVersion"
}

config {
    javadoc {
        options.charSet = 'UTF-8'
        options.encoding = 'UTF-8'
        options.docEncoding = 'UTF-8'
        options.use = true
        options.links = [jvmToJavadoc(targetCompatibility)] + javadocFromDependencies(configurations.compile)
    }
}
